{
	"info": {
		"_postman_id": "c5232d4d-d321-4748-8e50-f581ccc93e41",
		"name": "solution11-create",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "JWT Resource Server Policy -RSA Key",
			"item": [
				{
					"name": "bigip-Test AS3 is running",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "395ab9ff-b654-4de9-ad74-8a829900e8ec",
								"exec": [
									"",
									"if (responseCode.code === 200) {",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
									"}",
									"",
									"",
									"pm.test(\"AS3 is running\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "89df3686-8264-4402-b290-4411f222b246",
								"exec": [
									"pm.collectionVariables.set(\"DNS1_NAME\", \"solution11.acme.com\");\r",
									"pm.collectionVariables.set(\"VS1_NAME\", \"solution11\");\r",
									"pm.collectionVariables.set(\"PATH_NAME\", \"solution11\");\r",
									"pm.collectionVariables.set(\"PARTITION_NAME\", \"solution11\");\r",
									"pm.collectionVariables.set(\"DNS2_NAME\", \"solution10.acme.com\");\r",
									"pm.collectionVariables.set(\"CUSTOM_TYPE\", \"modern\");\r",
									"\r",
									"var COUNTER = pm.collectionVariables.get(\"COUNTER\");\r",
									"var DC2_APM = pm.environment.get(\"DC2_APM\");\r",
									"\r",
									"if (DC2_APM === 'true' && COUNTER === '2') {\r",
									"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.5\");\r",
									"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP2_SCOPE\"));\r",
									"\r",
									"} else {\r",
									"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.4\");\r",
									"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP1_SCOPE\"));\r",
									"pm.collectionVariables.set('COUNTER', '1' );\r",
									"\r",
									"}\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Import ca.acme.com cert",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6bfad28-ae5f-42fd-8238-4ddcdf0735f8",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "80e4025d-f7d6-48b2-bec6-84b7cffbb1af",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/octet-stream"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "",
								"disabled": true
							},
							{
								"key": "Content-Range",
								"value": "0-1263/1264",
								"type": "text"
							},
							{
								"key": "Content-Length",
								"value": "1264",
								"type": "text"
							},
							{
								"key": "Connection",
								"value": "Keep-alive",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "-----BEGIN CERTIFICATE-----\r\nMIIDazCCAlOgAwIBAgIQJ4DA+pop3K9HGUl4CIxjbjANBgkqhkiG9w0BAQsFADBI\r\nMRUwEwYKCZImiZPyLGQBGRYFbG9jYWwxFTATBgoJkiaJk/IsZAEZFgVmNWxhYjEY\r\nMBYGA1UEAxMPZGMxLmY1bGFiLmxvY2FsMB4XDTE5MTEyMDIyMDc0NVoXDTI5MTEy\r\nMDIyMTc0NVowSDEVMBMGCgmSJomT8ixkARkWBWxvY2FsMRUwEwYKCZImiZPyLGQB\r\nGRYFZjVsYWIxGDAWBgNVBAMTD2RjMS5mNWxhYi5sb2NhbDCCASIwDQYJKoZIhvcN\r\nAQEBBQADggEPADCCAQoCggEBANOejxrkrJD12YIeEkZNjRZ9/OZwFeX+QhVi1uHL\r\niILP+4+3ZiZ/dhVGQLncDfHlJm5hSXpzMMDK+LxmjnWfBcx8xurgDyL6E80ZTnIP\r\nBbVJ6Au2IWFXM62NK/qsE+5IF0ptAYzDiWjj75njoVQygMNkdWEPxu1N+Ar7WAR4\r\n5xghN2wE7d57iCZ53RmrIeGT6equiihns5nUssoOFh/ny9oR6+yudINlozllHhMB\r\nGRDCEeGC/0mY/LF50hP6vwEbl1ub0J1SlqlvTn3rrX7dumvtjSKxfQipwbCpG8Qz\r\nGi7ZsSe78Xg7VIGtDVk0Vh4+PbHVJ6GB8pUmFpQ4vVa6sY0CAwEAAaNRME8wCwYD\r\nVR0PBAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFNhpUMHsIixtS9g6\r\ny/FyNrayg9V6MBAGCSsGAQQBgjcVAQQDAgEAMA0GCSqGSIb3DQEBCwUAA4IBAQCr\r\nEjJWFyZR3VFoIvZxUztGiWSjELJGD0vH42hONh6GrzxHadhZcQFmQsi4SmS9TUhP\r\nqyj+mUzreWziMcogqTYisSmF6h/cyAujdnLPbR//spGSOvLlV+43P57FmpQ+c+bB\r\nV8CJq3e0uvxt2h/9v5Du20fE/Zb6iPESMSjzhEoCPosozELpEqwKTzwGLsyqgLSN\r\nWW/+Ov+DGr+cE8pHsXZy8yhkbDY5wrbHMCyrRuXFXwYLpoMcUKMOWUCq+K3TSQ2A\r\nmGUtzY3KMfC7YCJj+mrCniWmvncryUpkY3hPplglevWAFQx4hslOU618gt4IpBXy\r\nLlIC0DqyAVMHJqF7WozV\r\n-----END CERTIFICATE-----\r\n"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/file-transfer/uploads/ca.acme.com.crt",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"file-transfer",
								"uploads",
								"ca.acme.com.crt"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Install ca.acme.com cert",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2ce9efe9-ad0f-42e3-add7-e7a2a1ffebe8",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "",
								"disabled": true
							},
							{
								"key": "Content-Range",
								"value": "0-1321/1322",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"command\":\"install\",\n\t\"name\":\"ca.acme.com\",\n\t\"from-local-file\":\"/var/config/rest/downloads/ca.acme.com.crt\"\n\t\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/sys/crypto/cert",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"sys",
								"crypto",
								"cert"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Import ca.f5lab.local cert",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1fd0220b-4578-48f9-980a-e302dccfa6f9",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "27a24f18-14fa-4fa0-ab55-dd665363e4c1",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/octet-stream"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "",
								"disabled": true
							},
							{
								"key": "Content-Range",
								"value": "0-1263/1264",
								"type": "text"
							},
							{
								"key": "Content-Length",
								"value": "1264",
								"type": "text"
							},
							{
								"key": "Connection",
								"value": "Keep-alive",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "-----BEGIN CERTIFICATE-----\r\nMIIDazCCAlOgAwIBAgIQJ4DA+pop3K9HGUl4CIxjbjANBgkqhkiG9w0BAQsFADBI\r\nMRUwEwYKCZImiZPyLGQBGRYFbG9jYWwxFTATBgoJkiaJk/IsZAEZFgVmNWxhYjEY\r\nMBYGA1UEAxMPZGMxLmY1bGFiLmxvY2FsMB4XDTE5MTEyMDIyMDc0NVoXDTI5MTEy\r\nMDIyMTc0NVowSDEVMBMGCgmSJomT8ixkARkWBWxvY2FsMRUwEwYKCZImiZPyLGQB\r\nGRYFZjVsYWIxGDAWBgNVBAMTD2RjMS5mNWxhYi5sb2NhbDCCASIwDQYJKoZIhvcN\r\nAQEBBQADggEPADCCAQoCggEBANOejxrkrJD12YIeEkZNjRZ9/OZwFeX+QhVi1uHL\r\niILP+4+3ZiZ/dhVGQLncDfHlJm5hSXpzMMDK+LxmjnWfBcx8xurgDyL6E80ZTnIP\r\nBbVJ6Au2IWFXM62NK/qsE+5IF0ptAYzDiWjj75njoVQygMNkdWEPxu1N+Ar7WAR4\r\n5xghN2wE7d57iCZ53RmrIeGT6equiihns5nUssoOFh/ny9oR6+yudINlozllHhMB\r\nGRDCEeGC/0mY/LF50hP6vwEbl1ub0J1SlqlvTn3rrX7dumvtjSKxfQipwbCpG8Qz\r\nGi7ZsSe78Xg7VIGtDVk0Vh4+PbHVJ6GB8pUmFpQ4vVa6sY0CAwEAAaNRME8wCwYD\r\nVR0PBAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFNhpUMHsIixtS9g6\r\ny/FyNrayg9V6MBAGCSsGAQQBgjcVAQQDAgEAMA0GCSqGSIb3DQEBCwUAA4IBAQCr\r\nEjJWFyZR3VFoIvZxUztGiWSjELJGD0vH42hONh6GrzxHadhZcQFmQsi4SmS9TUhP\r\nqyj+mUzreWziMcogqTYisSmF6h/cyAujdnLPbR//spGSOvLlV+43P57FmpQ+c+bB\r\nV8CJq3e0uvxt2h/9v5Du20fE/Zb6iPESMSjzhEoCPosozELpEqwKTzwGLsyqgLSN\r\nWW/+Ov+DGr+cE8pHsXZy8yhkbDY5wrbHMCyrRuXFXwYLpoMcUKMOWUCq+K3TSQ2A\r\nmGUtzY3KMfC7YCJj+mrCniWmvncryUpkY3hPplglevWAFQx4hslOU618gt4IpBXy\r\nLlIC0DqyAVMHJqF7WozV\r\n-----END CERTIFICATE-----\r\n"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/file-transfer/uploads/ca.f5lab.local.crt",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"shared",
								"file-transfer",
								"uploads",
								"ca.f5lab.local.crt"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Install ca.f5lab.local cert",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d06684c-3c09-4853-b380-7c9469bc9d9e",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "",
								"disabled": true
							},
							{
								"key": "Content-Range",
								"value": "0-1321/1322",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"command\":\"install\",\n\t\"name\":\"ca.f5lab.local\",\n\t\"from-local-file\":\"/var/config/rest/downloads/ca.f5lab.local.crt\"\n\t\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/sys/crypto/cert",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"sys",
								"crypto",
								"cert"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Create-DNS Resolver",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "610ccf48-2124-423e-a9ce-b6d67e3dcb3e",
								"exec": [
									"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
									"",
									"if (PRIOR_RESPONSE === 'OK') {",
									"",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5ee2a705-81cc-40b3-8f1a-5ca983d999b6",
								"exec": [
									"if (responseCode.code === 200) {",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
									"pm.test(\"DNS Resolver Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"DNS Resolver Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"name\":\"{{VS1_NAME}}\", \r\n \"forwardZones\": [\r\n                {\r\n                    \"name\": \".\",\r\n                    \"nameservers\": [\r\n                        {\r\n                            \"name\": \"10.1.20.7:53\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/net/dns-resolver",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"net",
								"dns-resolver"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-client provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "72d8a5c6-7dad-4496-96bf-753d6d70dcf6",
								"exec": [
									"if (responseCode.code === 200) {",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
									"pm.test(\"Client Provider Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"Client Provider Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "d3ff33bc-1433-439f-9ed2-a2ac925579e3",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \r\n    \"name\": \"{{PARTITION_NAME}}-provider\",\r\n    \"partition\": \"Common\",\r\n    \"allowSelfSignedJwkCert\": \"yes\",\r\n    \"discoveryInterval\": 60,\r\n    \"ignoreExpiredCert\": \"false\",\r\n    \"introspect\": \"supported\",\r\n    \"maxJsonNestingLayers\": 8,\r\n    \"maxResponseSize\": 131072,\r\n    \"openidCfgUri\": \"https://{{DNS2_NAME}}/f5-oauth2/v1/.well-known/openid-configuration\",\r\n    \"saveJsonPayload\": \"disabled\",\r\n    \"trustedCaBundle\": \"/Common/ca.acme.com\",\r\n     \"type\": \"f5\"\r\n\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/oauth-provider",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"aaa",
								"oauth-provider"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-provider discover",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6e607036-4781-41e9-bf03-212c1a5e83a2",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"DISCOVER_ID\",jsonData.id);",
									"",
									"setTimeout(function(){}, 3000);",
									"",
									"",
									"if (responseCode.code === 202) {",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
									"pm.test(\"Discovery Task Created\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"postman.setNextRequest(\"bigip-cancel-provider discover task\");",
									"",
									"} else if (responseCode.code === 400) {",
									"pm.test(\"Task exists\", function () {",
									"    pm.expect(pm.response.text()).to.include(\"Duplicate item. Key already exists\");",
									"});",
									"",
									"}",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "5f06705e-72de-4144-a305-50084a1615cb",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \r\n    \"providerName\": \"{{PARTITION_NAME}}-provider\"\r\n    \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/access/oidc/discover",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"access",
								"oidc",
								"discover"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-retrieve-discovery task id",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "afe96948-1875-4298-a195-1aa30f1c69bc",
								"exec": [
									"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"setTimeout(function(){}, 3000);",
									"",
									"for (var i = 0; i < jsonData.items.length; i++) {",
									"",
									"if ( jsonData.items[i].providerName  === \"/Common/\"+VS_NAME+\"-provider\" ) {",
									"    pm.collectionVariables.set(\"DISCOVER_ID\",jsonData.items[i].id);",
									"    pm.test(\"Discovery Task ID Found\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"}",
									"}",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b1f8dc42-9baf-4619-a059-70e339c71bba",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \r\n    \"providerName\": \"{{PARTITION_NAME}}-provider\"\r\n    \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/access/oidc/discover",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"access",
								"oidc",
								"discover"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-cancel-provider discover task",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "24933be0-a9ca-4366-8070-c63c2f9090ea",
								"exec": [
									"if (responseCode.code === 200) {",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
									"pm.test(\"Discovery Task Stopped\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} ",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "d69fd4e7-5063-4c5a-b47b-9409a5b26b78",
								"exec": [
									"setTimeout(function(){}, 3000);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \r\n    \"status\":CANCEL_REQUESTED\"\r\n    \r\n}\r\n\r\n"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/access/oidc/discover/{{DISCOVER_ID}}",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"access",
								"oidc",
								"discover",
								"{{DISCOVER_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-delete-provider discover task",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "03f33388-92ed-47ea-b37e-35d694782607",
								"exec": [
									"if (responseCode.code === 200) {",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
									"pm.test(\"Discovery Task Deleted Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} "
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "095c97d0-51f5-4194-bf25-7492227ac1fb",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/access/oidc/discover/{{DISCOVER_ID}}",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"access",
								"oidc",
								"discover",
								"{{DISCOVER_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-customization group-OAuth Client",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "429cf886-526d-4184-9ee7-6851592f24af",
								"exec": [
									"if (responseCode.code === 200) {\r",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
									"pm.test(\"Customization Group Created\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"} else \r",
									"pm.test(\"Customization Group Exists\", function () {\r",
									"    pm.response.to.have.status(409);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{VS1_NAME}}_oauth_authz_client_app_customization\",\r\n    \"partition\": \"solution10\",\r\n    \"source\": \"/Common/standard\",\r\n    \"type\": \"oauth-authz-client-app\"\r\n    \r\n    \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"customization-group",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-OAuth Client",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9a4fe3c2-1c21-42ab-9f14-4d04845df295",
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.collectionVariables.set(\"CLIENT_ID\",jsonData.clientId);\r",
									"pm.collectionVariables.set(\"CLIENT_SECRET\",jsonData.clientSecret);\r",
									"\r",
									"if (responseCode.code === 200) {\r",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
									"pm.test(\"OAuth Client Created\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"} else \r",
									"pm.test(\"OAuth Client Exists\", function () {\r",
									"    pm.response.to.have.status(409);\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n         \r\n            \"name\": \"{{VS1_NAME}}\",\r\n            \"partition\": \"solution10\",\r\n            \"accessTokenLifetime\": 5,\r\n            \"appName\": \"{{VS1_NAME}}\",\r\n            \"authCodeLifetime\": 5,\r\n            \"authType\": \"secret\",\r\n            \"customizationGroup\": \"/solution10/{{VS1_NAME}}_oauth_authz_client_app_customization\",\r\n            \"generateJwtRefreshToken\": \"true\",\r\n            \"generateRefreshToken\": \"true\",\r\n            \"grantCode\": \"enabled\",\r\n            \"grantPassword\": \"disabled\",\r\n            \"grantToken\": \"disabled\",\r\n            \"idTokenLifetime\": 5,\r\n            \"jwtAccessTokenLifetime\": 5,\r\n            \"jwtRefreshTokenLifetime\": 60,\r\n            \"openidConnect\": \"enabled\",\r\n            \"redirectUris\": [\r\n                \"https://{{DNS1_NAME}}/oauth/client/redirect\"\r\n            ],\r\n            \"refreshTokenLifetime\": 480,\r\n            \"refreshTokenUsageLimit\": 64,\r\n            \"reuseAccessToken\": \"false\",\r\n            \"reuseRefreshToken\": \"false\",\r\n            \"useProfileTokenMgmtSettings\": \"true\"\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-client-app",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"oauth",
								"oauth-client-app"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-modify-OAuth Clients list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c3f802e9-eedc-4bac-9d66-17912f59c0fe",
								"exec": [
									"if (responseCode.code === 404) {\r",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
									"pm.test(\"OAuth Client added to Auth Server\", function () {\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"} else \r",
									"pm.test(\"OAuth Client Exists on Auth Server\", function () {\r",
									"    pm.response.to.have.status(409);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"name\": \"{{VS1_NAME}}\",\r\n   \"partition\": \"solution10\"\r\n  \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/oauth/~solution10~solution10-psp-solution10-as/client-apps",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"profile",
								"oauth",
								"~solution10~solution10-psp-solution10-as",
								"client-apps"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Apply Policy on AS",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "eca9a9c7-624b-4056-9680-1a78e37b9a71",
								"exec": [
									"\r",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
									"pm.test(\"Apply Policy Successful\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \"generationAction\": \"increment\"   \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/~solution10~solution10-psp",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"profile",
								"access",
								"~solution10~solution10-psp"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-OAuth Server",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bc62cc05-df9e-4648-a8d3-6bbaf90f65ab",
								"exec": [
									"if (responseCode.code === 200) {\r",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
									"pm.test(\"OAuth Server Created\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"} else \r",
									"pm.test(\"OAuth Server Exists\", function () {\r",
									"    pm.response.to.have.status(409);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "        {\r\n\r\n            \"name\": \"{{VS1_NAME}}\",\r\n            \"partition\": \"Common\",          \r\n            \"clientId\": \"{{CLIENT_ID}}\",\r\n            \"clientSecret\": \"{{CLIENT_SECRET}}\",\r\n            \"clientServersslProfileName\": \"/Common/serverssl\",\r\n            \"dnsResolverName\": \"/Common/{{VS1_NAME}}\",      \r\n            \"mode\": \"client\",\r\n            \"providerName\": \"/Common/{{VS1_NAME}}-provider\", \r\n            \"tokenValidationInterval\": 60\r\n        }"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/oauth-server",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"aaa",
								"oauth-server"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "126575d4-2460-4fa2-baea-2151786df30a",
								"exec": [
									"",
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"TRANSID\", jsonData.transId);",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "ca892993-4790-471e-be0f-8f0a445b9226",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"transaction"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-customization group-end deny",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0f574ee2-501c-441f-9846-016b5db0b03d",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp_end_deny_ag\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n    \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"customization-group"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-customization group-logout",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "95f0efbc-0190-4c91-b8ca-2b2efef1139c",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"{{PARTITION_NAME}}-psp_logout\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"customization-group"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-customization group-eps",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5e1efeee-f936-497c-9242-1acdfc70fdd9",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp_eps\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"eps\"\r\n    \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"customization-group"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-customization group-error map",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8d94d0fa-a610-488e-9bb3-4d3df26690af",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp_errormap\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"errormap\"\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"customization-group"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-customization group-framework",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "06a0a7f1-fd88-4f26-88a1-bf5443c52e7e",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \r\n     \"name\": \"{{PARTITION_NAME}}-psp_framework_installation\",\r\n\t \"partition\": \"Common\",\r\n     \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n     \"type\": \"framework-installation\"\r\n    \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"customization-group"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-customization group-general ui",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8bc4f6ce-ba3c-4eb0-acbc-be07d3cfd6e5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp_general_ui\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"general-ui\"\r\n    \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"customization-group"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-agent-allow ending",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2caf6ae0-d52b-4354-ac3c-4bad9aa9bc01",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"value": "{{TRANSID}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"name\": \"{{PARTITION_NAME}}-psp_end_allow_ag\",\n\"partition\": \"Common\"\n\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-allow/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"agent",
								"ending-allow",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-agent-deny ending",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f8899c42-4ef8-42ed-804b-23e8e6614ca2",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"name\": \"{{PARTITION_NAME}}-psp_end_deny_ag\",\n\"partition\": \"Common\",\n\"customizationGroup\": \"/Common/{{PARTITION_NAME}}-psp_end_deny_ag\"\n\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-deny/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"agent",
								"ending-deny",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-agent-OAuth client",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a26a5543-4788-4322-9b52-5e3a0201bcc3",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \n    \"name\": \"{{PARTITION_NAME}}-psp_act_oauth_client_ag\",\n    \"partition\": \"Common\",\n    \"authRedirectRequest\": \"/Common/F5AuthRedirectRequestJWT\",\n    \"grantType\": \"authorization-code\",\n    \"openidConnect\": \"enabled\",\n    \"openidFlowType\": \"code\",\n    \"openidHybridResponseType\": \"code-idtoken\",\n    \"openidUserinfoRequest\": \"/Common/F5UserinfoRequest\",\n    \"redirectionUri\": \"https://%{session.server.network.name}/oauth/client/redirect\",\n    \"server\": \"/Common/{{PARTITION_NAME}}\",\n    \"tokenRefreshRequest\": \"/Common/F5TokenRefreshRequest\",\n    \"tokenRequest\": \"/Common/F5TokenJWTRequestByAuthzCode\",\n    \"tokenValidationMode\": \"external\",\n    \"type\": \"client\"\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/aaa-oauth/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"agent",
								"aaa-oauth",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create- policy item-allow ending",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fe03f7f4-9521-431e-8811-6dd2212f7af3",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"value": "{{TRANSID}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp_end_allow\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Allow\",\r\n    \"color\": 1,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{PARTITION_NAME}}-psp_end_allow_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-allow\"\r\n\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"policy-item",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-policy item-Deny ending",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ec2d2c76-577c-4b41-8195-4708ee533342",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"value": "{{TRANSID}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp_end_deny\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Deny\",\r\n    \"color\": 2,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{PARTITION_NAME}}-psp_end_deny_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-deny\"\r\n\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"policy-item",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-policy item-Oauth client",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "002cb32b-1154-457d-9931-218c9da30e25",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \r\n    \"name\": \"{{PARTITION_NAME}}-psp_act_oauth_client\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"OAuth Client\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{PARTITION_NAME}}-psp_act_oauth_client_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"aaa-oauth\"\r\n            \r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Successful\",\r\n            \"expression\": \"expr {[mcget {session.oauth.client.last.authresult}] == 1}\",\r\n            \"nextItem\": \"/Common/{{PARTITION_NAME}}-psp_end_allow\"\r\n            \r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{PARTITION_NAME}}-psp_end_deny\"\r\n            \r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"policy-item",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-create-policy item-start",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "985503b4-a899-4c23-b734-e68ce2048d56",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp_ent\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Start\",\r\n    \"color\": 1,\r\n    \"itemType\": \"entry\",\r\n    \"loop\": \"false\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{PARTITION_NAME}}-psp_act_oauth_client\"\r\n\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"policy-item",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip- create Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "67e60c86-41fd-4785-8a36-3088e7143192",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \r\n    \"defaultEnding\": \"/Common/{{PARTITION_NAME}}-psp_end_deny\",\r\n    \"maxMacroLoopCount\": 1,\r\n    \"oneshotMacro\": \"false\",\r\n    \"startItem\": \"/Common/{{PARTITION_NAME}}-psp_ent\",\r\n    \"type\": \"access-policy\",\r\n    \"items\": [\r\n        {\r\n            \"name\": \"{{PARTITION_NAME}}-psp_act_oauth_client\",\r\n            \"partition\": \"Common\"\r\n         \r\n            \r\n        },\r\n        {\r\n            \"name\": \"{{PARTITION_NAME}}-psp_end_allow\",\r\n            \"partition\": \"Common\"\r\n          \r\n            \r\n        },\r\n        {\r\n            \"name\": \"{{PARTITION_NAME}}-psp_end_deny\",\r\n            \"partition\": \"Common\"\r\n            \r\n            \r\n        },\r\n        {\r\n            \"name\": \"{{PARTITION_NAME}}-psp_ent\",\r\n            \"partition\": \"Common\"\r\n            \r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"policy",
								"access-policy",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip- create Profile",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e1b6e9e6-1bac-45de-8cb1-b1cb05b9d853",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\r\n    \"name\": \"{{PARTITION_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \"acceptLanguages\": [\r\n        \"en\"\r\n    ],\r\n    \"accessPolicy\": \"/Common/{{PARTITION_NAME}}-psp\",\r\n      \"customizationGroup\": \"/Common/{{PARTITION_NAME}}-psp_logout\",\r\n    \"epsGroup\": \"/Common/{{PARTITION_NAME}}-psp_eps\",\r\n    \"errormapGroup\": \"/Common/{{PARTITION_NAME}}-psp_errormap\",\r\n    \"frameworkInstallationGroup\": \"/Common/{{PARTITION_NAME}}-psp_framework_installation\",\r\n    \"generalUiGroup\": \"/Common/{{PARTITION_NAME}}-psp_general_ui\",\r\n    \"accessPolicyTimeout\": 300,\r\n    \"defaultLanguage\": \"en\",\r\n     \"httponlyCookie\": \"false\",\r\n    \"inactivityTimeout\": 900,\r\n    \"logoutUriTimeout\": 5,\r\n    \"maxConcurrentSessions\": 0,\r\n    \"maxConcurrentUsers\": 0,\r\n    \"maxFailureDelay\": 5,\r\n    \"maxInProgressSessions\": 128,\r\n    \"maxSessionTimeout\": 604800,\r\n    \"minFailureDelay\": 2,\r\n    \"modifiedSinceLastPolicySync\": \"false\",\r\n    \"persistentCookie\": \"false\",\r\n    \"restrictToSingleClientIp\": \"false\",\r\n    \"scope\": \"profile\",\r\n    \"secureCookie\": \"true\",\r\n    \"type\": \"all\",\r\n    \"useHttp_503OnError\": \"false\",\r\n    \"userIdentityMethod\": \"http\",\r\n    \"logSettings\": [\r\n        \"/Common/default-log-setting\"\r\n    ]\r\n\r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"profile",
								"access",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip- commit transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c833dd29-25e7-42e7-a452-ca8bca6671a4",
								"exec": [
									"if (responseCode.code === 200) {\r",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
									"pm.test(\"Profile Created\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"} else \r",
									"pm.test(\"Profile Exists\", function () {\r",
									"    pm.response.to.have.status(409);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n \"state\":\"VALIDATING\"\t\n\t\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction/{{TRANSID}}/",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"transaction",
								"{{TRANSID}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip-Apply Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3d248929-9923-43cf-aee0-38ae423a7354",
								"exec": [
									"\r",
									"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
									"pm.test(\"Apply Policy Successful\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-REST-Coordination-Id",
								"type": "text",
								"value": "{{TRANSID}}",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \"generationAction\": \"increment\"   \r\n}"
						},
						"url": {
							"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/~Common~{{PARTITION_NAME}}-psp",
							"protocol": "https",
							"host": [
								"{{BIGIP_MGMT}}"
							],
							"path": [
								"mgmt",
								"tm",
								"apm",
								"profile",
								"access",
								"~Common~{{PARTITION_NAME}}-psp"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "bigip-Check Scope for existing assignment",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7cf543a3-c002-4be1-bfc7-28e07efa7e69",
						"exec": [
							"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");\r",
							"\r",
							"\r",
							"if (responseCode.code === 200) {\r",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );\r",
							"pm.test(\"Scope Request successful\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"}\r",
							"\r",
							"var jsonData = pm.response.json();\r",
							"\r",
							"if(!jsonData.length) {\r",
							" if ( jsonData.Description  === VS_NAME ) {\r",
							"\tpm.collectionVariables.set(\"BIGIP_ADDRESS1\", jsonData.IPAddress.IPAddressToString );\r",
							"\tpostman.setNextRequest(\"bigip-Create Application using AS3\");  \r",
							" }\r",
							"} else {\r",
							"\r",
							"\r",
							"for (var i = 0; i < jsonData.length; i++) {\r",
							"\r",
							"if ( jsonData[i].Description  === VS_NAME ) {\r",
							"\tpm.collectionVariables.set(\"BIGIP_ADDRESS1\", jsonData[i].IPAddress.IPAddressToString );\r",
							"\tpostman.setNextRequest(\"bigip-Create Application using AS3\");\r",
							"}\r",
							"}\r",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "http://10.1.20.6:81/addr/scope-status?scope={{BIGIP_SCOPE}}",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"scope-status"
					],
					"query": [
						{
							"key": "scope",
							"value": "{{BIGIP_SCOPE}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip-Check for next available address",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "37137e95-4842-4447-8a95-7e4c98870d94",
						"exec": [
							"\r",
							"var jsonData = JSON.parse(responseBody);\r",
							"pm.collectionVariables.set(\"BIGIP_ADDRESS1\",jsonData.address);\r",
							"\r",
							"\r",
							"\r",
							"var jsonData = pm.response.json();\r",
							"pm.test('Address Key returned', function() {\r",
							"  pm.expect(jsonData).to.have.property('address');\r",
							"\r",
							"  \r",
							"pm.test(\"Address value is not null\", function () {\r",
							"var jsonData = pm.response.json();\r",
							"pm.expect(jsonData.address).not.eql(null);\r",
							"});\r",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "http://10.1.20.6:81/addr/available?scope={{BIGIP_SCOPE}}",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"available"
					],
					"query": [
						{
							"key": "scope",
							"value": "{{BIGIP_SCOPE}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip-Checkout Address",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "010af478-4c93-4031-8b1b-4961aeaa5a6d",
						"exec": [
							"var jsonData = pm.response.json();",
							"pm.test(\"Address Checked Out\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							"pm.test(\"Name field is not Null\", function () {",
							"var jsonData = pm.response.json();",
							"pm.expect(jsonData.name).not.eql(null);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"scope\":\"{{BIGIP_SCOPE}}\",\n\"address\":\"{{BIGIP_ADDRESS1}}\",\n\"name\":\"{{VS1_NAME}}\"\n}"
				},
				"url": {
					"raw": "http://10.1.20.6:81/addr/checkout",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"checkout"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip-Create node 10.1.20.7",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "7e639a31-4ccb-4cbf-9a4d-ab2ae81421a3",
						"exec": [
							"",
							"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
							"",
							"if (PRIOR_RESPONSE === 'OK') {",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "dd402577-d7a1-44cb-be21-20326758e400",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"Node Created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"Node Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"name\": \"10.1.20.7\",\r\n\"address\": \"10.1.20.7\"\r\n}"
				},
				"url": {
					"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/node",
					"protocol": "https",
					"host": [
						"{{BIGIP_MGMT}}"
					],
					"path": [
						"mgmt",
						"tm",
						"ltm",
						"node"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip-Create Application using AS3",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "4c1ccc61-8d10-4775-996d-832f69fa9aaf",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"pm.test(\"Application created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"",
							"var COUNTER = pm.collectionVariables.get(\"COUNTER\");",
							"",
							"if (COUNTER === '2') {",
							"postman.setNextRequest(\"bigip5-Determine if bigip2 exists\");",
							"",
							"} else {",
							"",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "2f16bd2a-d80f-4ad8-be22-b8a7c20ceaf5",
						"exec": [
							"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
							"",
							"if (PRIOR_RESPONSE === 'OK') {",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"class\": \"ADC\",\r\n    \"action\": \"deploy\",\r\n    \"persist\": true,\r\n    \"declaration\": {\r\n       \"class\": \"ADC\",\r\n       \"schemaVersion\": \"3.14.0\",\r\n       \"id\": \"APM\",\r\n       \"{{PARTITION_NAME}}\": {\r\n          \"class\": \"Tenant\",\r\n          \"{{VS1_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{VS1_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                 \"{{BIGIP_ADDRESS1}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{VS1_NAME}}-clientssl\",\r\n                \"pool\": \"iis-pool\",\r\n        \t\t\"snat\": \"auto\",\r\n        \t\t\"profileAccess\": {\r\n        \t\t\t\"bigip\": \"/Common/{{PARTITION_NAME}}-psp\"\r\n        \t\t   }\r\n                },\r\n                \"{{VS1_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"authenticationInviteCA\": {\"bigip\":\"/Common/ca.f5lab.local\"},\r\n                    \"authenticationTrustCA\": {\"bigip\":\"/Common/ca.f5lab.local\"},\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                },\r\n                \"iis-pool\": {\r\n                    \"class\": \"Pool\",  \r\n                        \"members\": [\r\n                            {\r\n                            \"serverAddresses\": [\r\n                            \"10.1.20.6\"\r\n                            ],\r\n                            \"servicePort\": 80\r\n                            }\r\n                        ],\r\n                    \"monitors\": [\r\n                        \"tcp\"\r\n                    ]\r\n                }\r\n\r\n            }\r\n       }\r\n    }\r\n\r\n}"
				},
				"url": {
					"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/declare",
					"protocol": "https",
					"host": [
						"{{BIGIP_MGMT}}"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Test AS3 is running",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5084c43e-50b6-4153-9b0b-9d449d430c8f",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"pm.test(\"AS3 is running\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "f5541456-4e67-4a18-8817-971092896954",
						"exec": [
							"",
							"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
							"",
							"if (PRIOR_RESPONSE === 'OK') {",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"info"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Create-DC1",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "4df87bd2-47c3-4599-9bf8-843c718b663c",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"DC1 Created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"DC1 Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "f85b0c13-3a7b-4031-b83e-9c9f7731bc36",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\"name\":\"DC1\"\n}"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/datacenter",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"datacenter"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Create-bigip1 server",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5732a86c-2985-4f76-b5a6-4fad50567f6b",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"bigip1 server Created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"bigip1 server Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "ca27abc7-4237-4714-be7c-8602cb479f41",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n            \"name\": \"bigip1.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.4\",\r\n                    \"deviceName\": \"bigip1.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"server"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Create-bigip5 server",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "09ef3f6f-f9a7-451e-845a-ce435de6b588",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"bigip5 server Created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"bigip5 server Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "23ea149e-5ee4-41b4-8ce5-73e2da930492",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n            \"name\": \"bigip5.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.11\",\r\n                    \"deviceName\": \"bigip5.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"server"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Add bigip1 application VS to Server",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1ee918ea-2713-44e7-938a-d991498627b8",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"Virtual Server added to Server\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"Virtual Server Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "35b231a5-dcea-420b-8a40-723029ba4028",
						"exec": [
							"setTimeout(function(){}, 2000);",
							"",
							"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
							"",
							"if (PRIOR_RESPONSE === 'OK') {",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS1}}:443\"\r\n}"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip1.f5lab.local/virtual-servers/",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"server",
						"~Common~bigip1.f5lab.local",
						"virtual-servers",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Create WideIP using AS3",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "375fb9d8-3f03-4916-893e-a0010441e1a1",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"pm.test(\"Wide IP Created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"",
							"var DC2_APM = pm.environment.get(\"DC2_APM\");",
							"var COUNTER = pm.collectionVariables.get(\"COUNTER\");",
							"",
							"if (DC2_APM === 'true' && COUNTER === '1') {",
							"postman.setNextRequest(\"bigip-Test AS3 is running\");",
							"pm.collectionVariables.set('COUNTER', '2' );",
							"",
							"} else {",
							"postman.setNextRequest(\"iis-Create Website\");",
							"pm.test(\"Environment Variable set to Single Data Center APM \", function () {",
							"    pm.expect(pm.environment.get(\"DC2_APM\")).to.equal(\"false\");",
							"});",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "c3457c93-3b4b-4b3b-923a-5f204aeabbb5",
						"exec": [
							"setTimeout(function(){}, 5000);",
							"",
							"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
							"",
							"if (PRIOR_RESPONSE === 'OK') {",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n \"class\": \"ADC\",\r\n    \"schemaVersion\": \"3.6.0\",\r\n    \"id\": \"GSLB_Sample\",\r\n    \"{{PARTITION_NAME}}\": {\r\n        \"class\": \"Tenant\",\r\n        \"Application\": {\r\n            \"class\": \"Application\",\r\n            \"template\": \"generic\",\r\n            \"testDomain\": {\r\n                \"class\": \"GSLB_Domain\",\r\n                \"domainName\": \"{{DNS1_NAME}}\",\r\n                \"resourceRecordType\": \"A\",\r\n                \"poolLbMode\": \"ratio\",\r\n                \"pools\": [\r\n                              { \"use\": \"{{VS1_NAME}}-pool\" }\r\n                ]\r\n            },\r\n            \"{{VS1_NAME}}-pool\": {\r\n               \"class\": \"GSLB_Pool\",\r\n                \"enabled\": true,\r\n                \"lbModeAlternate\": \"ratio\",\r\n                \"lbModeFallback\": \"ratio\",\r\n                \"manualResumeEnabled\": false,\r\n                \"verifyMemberEnabled\": true,\r\n                \"members\": [\r\n                \t{\r\n                \t\"ratio\":10,\r\n                \t\"server\": {\r\n                \t\t\"bigip\": \"/Common/bigip1.f5lab.local\"\r\n                \t\t},\r\n                \t\t\"virtualServer\":\"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\"\r\n                \t}\r\n                ],\r\n                \"resourceRecordType\": \"A\"\r\n            }\r\n        }\r\n    }\r\n \r\n}"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/shared/appsvcs/declare",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Determine if bigip2 exists",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9f288d50-73b1-49a4-974a-ed51783851b5",
						"exec": [
							"\r",
							"var jsonData = pm.response.json();\r",
							"\r",
							"\r",
							"for (var i = 0; i < jsonData.items.length; i++) {\r",
							"\r",
							"\tif (jsonData.items[i].name === \"bigip2.f5lab.local\") {\r",
							"\r",
							"\r",
							"\t\tpm.test(\"BIGIP2 already exists\", function () {\r",
							"        pm.response.to.have.status(200);\r",
							"\t\t});\r",
							"\r",
							"\t\tpostman.setNextRequest(\"bigip5-Add bigip2 Application VS to Server\");\r",
							"\t}\r",
							"}\r",
							"\r",
							"\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"server"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip_add - bigip2 to bigip5",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0b561f89-95e7-40e0-a9f0-8d9affc2c5e3",
						"exec": [
							"\r",
							"\t\tpm.test(\"bigip_add command successfully run\", function () {\r",
							"        pm.response.to.have.status(200);\r",
							"\t\t});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"command\":\"run\",\r\n\t\"options\":[\r\n\t\t{\r\n\t\t\t\"ssh-password\":\"admin\",\r\n\t\t\t\"admin@10.1.1.5\":\"\"\r\n\t\t}\r\n\t]\r\n} "
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/bigip_add",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"bigip_add"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip2.f5lab.local - big3d_install",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "e735b95d-7327-4939-bc47-f178b45992a3",
						"exec": [
							"\r",
							"\t\tpm.test(\"big3d_install command successfully run\", function () {\r",
							"        pm.response.to.have.status(200);\r",
							"\t\t});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"command\":\"run\",\r\n\t\"options\":[\r\n\t\t{\r\n\t\t\t\"ssh-password\":\"admin\",\r\n\t\t\t\"admin@10.1.1.5\":\"\"\r\n\t\t}\r\n\t]\r\n} "
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/big3d_install",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"big3d_install"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Create-DC2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "96e4f0ec-a724-4496-a5be-b06bc8a6075e",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"DC2 Created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"DC2 Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "e4f5be2c-bac0-40c6-ad38-99e893e91581",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\"name\":\"DC2\"\n}"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/datacenter",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"datacenter"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Server -  BIG-IP2 to BIG-IP5",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "ad83803d-97f4-40d8-92ea-f665213254a2",
						"exec": [
							"if (responseCode.code === 200) {\r",
							"    pm.collectionVariables.set('PRIOR_RESPONSE', 'OK');\r",
							"    pm.test(\"BIG-IP2 added\", function () {\r",
							"        pm.response.to.have.status(200);\r",
							"    });\r",
							"} else\r",
							"    pm.test(\"BIG-IP2 already Exists\", function () {\r",
							"        pm.response.to.have.status(409);\r",
							"    });"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"name\":\"bigip2.f5lab.local\",\n\t\"datacenter\": \"/Common/DC2\",\n\t\"virtualServerDiscovery\": \"disabled\",\n\t        \"addresses\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\":\"10.1.10.5\",\n\t\t\t\t\t\"deviceName\": \"bigip2.f5lab.local\",\n\t\t\t\t\t\"translation\": \"none\"\n\t\t\t\t}\n\t\t\t]\n\t\n}"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"server"
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Add bigip2 Application VS to Server",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c74ac579-1929-47a3-a40e-b3213ec85c46",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"Virtual Server Created\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"Virtual Server Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "3dd15ff3-f4f1-488a-b775-8c7c4105f49f",
						"exec": [
							"setTimeout(function(){}, 2000);",
							"",
							"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
							"",
							"if (PRIOR_RESPONSE === 'OK') {",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS1}}:443\"\r\n}"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip2.f5lab.local/virtual-servers/",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"server",
						"~Common~bigip2.f5lab.local",
						"virtual-servers",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "bigip5-Add bigip2 application to WideIP Pool",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "c119fe14-66e0-4f03-9f74-e76f0f0a5e64",
						"exec": [
							"setTimeout(function(){},5000);",
							"",
							"var PRIOR_RESPONSE = pm.collectionVariables.get(\"PRIOR_RESPONSE\");",
							"",
							"if (PRIOR_RESPONSE === 'OK') {",
							"",
							"}"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "31310ab9-07d0-436e-8bf3-665a7da300d6",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"Virtual Server Added\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} else ",
							"pm.test(\"Virtual Server Exists\", function () {",
							"    pm.response.to.have.status(409);",
							"});",
							"",
							"pm.collectionVariables.set('COUNTER', '1' );"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"name\":\"bigip2.f5lab.local:/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\"\r\n\t\r\n\t\r\n}"
				},
				"url": {
					"raw": "https://10.1.1.11/mgmt/tm/gtm/pool/a/~{{PARTITION_NAME}}~Application~{{VS1_NAME}}-pool/members",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"11"
					],
					"path": [
						"mgmt",
						"tm",
						"gtm",
						"pool",
						"a",
						"~{{PARTITION_NAME}}~Application~{{VS1_NAME}}-pool",
						"members"
					]
				}
			},
			"response": []
		},
		{
			"name": "iis-Create Website",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "cfa1ecb4-29e9-4356-935e-16e74038ab9d",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"",
							"for (var i = 0; i < jsonData.length; i++) {",
							"",
							"\tif (jsonData[i].status === \"Success\") {",
							"",
							"\t\tpm.test(\"Website Created\", function () {",
							"\t\t\tpm.expect(jsonData[i].status).to.eql(\"Success\");",
							"\t\t});",
							"",
							"\t}",
							"}",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"site_name\":\"{{DNS1_NAME}}\",\n\t\"http_port\":\"80\",\n\t\"https_port\":\"443\",\n\t\"computer_ip\":\"10.1.20.6\",\n\t\"template_number\": \"2\",\n\t\"authentication\": \"none\",\n\t\"customization\": {\n\t\t\"background\": \"green\"\n\n\t}\n}"
				},
				"url": {
					"raw": "http://10.1.20.6:81/website",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"website"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "2cb393e0-ee69-4138-961d-c757547a82e9",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "a610278a-e7cd-46e6-80bf-940887eeb686",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "6264b3c1-9e94-45c2-af86-16811bbdf7b9",
			"key": "APP_NAME",
			"value": "portal.acme.com"
		},
		{
			"id": "ce9d6e23-6296-413e-beda-87576ea91068",
			"key": "PARTITION_NAME",
			"value": "portal"
		},
		{
			"id": "0c096af3-5fdc-4edc-8ef4-c0f2ed5ddab5",
			"key": "PATH_NAME",
			"value": "portal"
		},
		{
			"id": "2f4e5194-8342-477c-9998-edfc21cca3d4",
			"key": "PRIOR_RESPONSE",
			"value": ""
		},
		{
			"id": "f8ad1f3c-5e9f-4a76-8a7d-19d58419377a",
			"key": "DNS_NAME",
			"value": ""
		},
		{
			"id": "8754991e-6478-4623-8bbc-b6f356fca37d",
			"key": "VS_NAME",
			"value": ""
		},
		{
			"id": "20fe0b21-d0f3-4724-9f24-48848e659101",
			"key": "BIGIP1_ADDRESS",
			"value": ""
		},
		{
			"id": "dcc8165b-ccbd-43a9-b111-0d75222a9e8b",
			"key": "BIGIP2_ADDRESS",
			"value": ""
		},
		{
			"id": "b302df67-c742-452b-bf55-62bca6598e94",
			"key": "BIGIP1_ADDRESS1",
			"value": ""
		},
		{
			"id": "0917d6be-08ba-4cc8-98e6-053280fe6118",
			"key": "CUSTOM_TYPE",
			"value": ""
		},
		{
			"id": "1b17601a-e6dc-4d89-8da1-f63144d417b3",
			"key": "DNS1_NAME",
			"value": ""
		},
		{
			"id": "e8beab7e-5092-49c3-b9c3-8347ac8faa80",
			"key": "DNS2_NAME",
			"value": ""
		},
		{
			"id": "ae1318a7-edc6-40a4-9a33-bcd6813c20cb",
			"key": "VS1_NAME",
			"value": ""
		},
		{
			"id": "4b2314ce-60f5-4847-ac3e-5229bbec8ce0",
			"key": "TRANSID",
			"value": ""
		},
		{
			"id": "627f649a-663d-4edb-8b79-3624d59d5d78",
			"key": "BIGIP",
			"value": ""
		},
		{
			"id": "1c403b24-003c-492e-93e3-3ba374c5ad51",
			"key": "BIGIP_SCOPE",
			"value": ""
		},
		{
			"id": "a381dbfb-8c4f-4699-b1be-30fa0530a268",
			"key": "BIGIP_ADDRESS1",
			"value": ""
		},
		{
			"id": "e9bf1e45-7039-4c75-a57d-c78bfae74940",
			"key": "BIGIP_MGMT",
			"value": ""
		},
		{
			"id": "5326424d-63b3-45db-8ff4-61eec59ab505",
			"key": "COUNTER",
			"value": ""
		},
		{
			"id": "32215c0c-65cb-48de-8a03-6a3cb0fc17c8",
			"key": "CLIENT_ID",
			"value": ""
		},
		{
			"id": "2d60462e-52a9-476b-bdf1-347964b19c04",
			"key": "CLIENT_SECRET",
			"value": ""
		},
		{
			"id": "2b520937-794a-46a9-9058-d854678422cb",
			"key": "DISCOVER_ID",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}