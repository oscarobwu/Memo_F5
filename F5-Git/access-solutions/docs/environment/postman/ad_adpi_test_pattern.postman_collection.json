{
	"info": {
		"_postman_id": "ac81abac-e720-487c-b51b-53567ba2a367",
		"name": "ad_adpi_test_pattern",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "bigip1-Test AS3 running",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "271c7d57-d62f-42b9-80e2-f1e4d2abb480",
						"exec": [
							"",
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"",
							"pm.test(\"AS3 is running\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6c68564c-539c-48cf-a093-5c2b509a11af",
						"exec": [
							"pm.collectionVariables.set(\"DNS1_NAME\", \"testapp.acme.com\");",
							"pm.collectionVariables.set(\"VS1_NAME\", \"testvs\");",
							"pm.collectionVariables.set(\"PATH_NAME\", \"testpath\");",
							"pm.collectionVariables.set(\"PARTITION_NAME\", \"testpartition\");",
							"pm.collectionVariables.set('HTTPS_RUN', 'FALSE' );",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/info",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"info"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /addr/scope-status",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "e529dcb6-0a60-4561-b2a2-c7f309a43523",
						"exec": [
							"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
							"",
							"",
							"if (responseCode.code === 200) {",
							"\tpm.collectionVariables.set('PRIOR_RESPONSE', 'OK');",
							"\tpm.test(\"Scope Request successful\", function () {",
							"\t\tpm.response.to.have.status(200);",
							"\t});",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"",
							"if (!jsonData.length) {",
							"\tif (jsonData.Description === VS_NAME) {",
							"\t\tpm.collectionVariables.set(\"BIGIP1_ADDRESS1\", jsonData.IPAddress.IPAddressToString);",
							"\t\tpostman.setNextRequest(\"create_vs_http_server_pool\");",
							"\t}",
							"} else {",
							"",
							"",
							"\tfor (var i = 0; i < jsonData.length; i++) {",
							"",
							"\t\tif (jsonData[i].Description === VS_NAME) {",
							"\t\t\tpm.collectionVariables.set(\"BIGIP1_ADDRESS1\", jsonData[i].IPAddress.IPAddressToString);",
							"\t\t\tpostman.setNextRequest(\"create_vs_http_server_pool\");",
							"\t\t}",
							"\t}",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "http://10.1.20.6:81/addr/scope-status?scope={{BIGIP1_SCOPE}}",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"scope-status"
					],
					"query": [
						{
							"key": "scope",
							"value": "{{BIGIP1_SCOPE}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /addr/available",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "94103bfb-f8b5-40e1-a505-666050f905d3",
						"exec": [
							"",
							"var jsonData = JSON.parse(responseBody);",
							"pm.collectionVariables.set(\"BIGIP1_ADDRESS1\", jsonData.address);",
							"",
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test('Next Available Address Found', function () {",
							"  pm.expect(jsonData).to.have.property('address');",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "http://10.1.20.6:81/addr/available?scope={{BIGIP1_SCOPE}}",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"available"
					],
					"query": [
						{
							"key": "scope",
							"value": "{{BIGIP1_SCOPE}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "POST /addr/checkout",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0c3b2aaf-50f3-4808-b773-a0988ec7dbdf",
						"exec": [
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"Address Checked Out\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"scope\":\"{{BIGIP1_SCOPE}}\",\n\"address\":\"{{BIGIP1_ADDRESS1}}\",\n\"name\":\"{{VS1_NAME}}\"\n}"
				},
				"url": {
					"raw": "http://10.1.20.6:81/addr/checkout",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"checkout"
					]
				}
			},
			"response": []
		},
		{
			"name": "create_vs_http_server_pool",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f854391a-daa2-46cd-bdd0-7f8132bfd89d",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"pm.test(\"BEGINNING HTTP TESTS\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"class\": \"ADC\",\r\n    \"action\": \"deploy\",\r\n    \"persist\": true,\r\n    \"declaration\": {\r\n       \"class\": \"ADC\",\r\n       \"schemaVersion\": \"3.14.0\",\r\n       \"id\": \"APM\",\r\n       \"{{PARTITION_NAME}}\": {\r\n          \"class\": \"Tenant\",\r\n          \"{{PATH_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{VS1_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                   \"{{BIGIP1_ADDRESS1}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{VS1_NAME}}-clientssl\",\r\n                \"pool\": \"http-api-pool\",\r\n        \t\t\"snat\": \"auto\"\r\n                },\r\n\r\n                \"{{VS1_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                },\r\n                \"http-api-pool\": {\r\n                    \"class\": \"Pool\",  \r\n                        \"members\": [\r\n                            {\r\n                            \"serverAddresses\": [\r\n                            \"10.1.20.6\"\r\n                            ],\r\n                            \"servicePort\": 81\r\n                            }\r\n                        ],\r\n                    \"monitors\": [\r\n                        \"icmp\"\r\n                    ]\r\n                }\r\n\r\n            }\r\n       }\r\n    }\r\n\r\n}\r\n                \r\n             \r\n          \r\n       \r\n    \r\n"
				},
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/declare",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5e1f9bc7-0560-4fe6-a80a-1b9b0ca7d272",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"pm.test(\"OK\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"API Server is running\");",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "POST /user - Standard user",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "99980ec3-f7bb-44b4-a29e-c401cf6e659f",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"Username\":\"POST_API\",\n\"employeeNumber\":\"100\",\n\"GivenName\":\"post\",\n\"Surname\": \"api\",\n\"UserPrincipalName\":\"12890@f5lab.local\",\n\"OU\":\"IT\",\n\"Password\":\"letmein\",\n\"email\":\"postapi@acme.com\"\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					]
				}
			},
			"response": []
		},
		{
			"name": "POST /user - Delegation Account",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2536392d-4e72-41b2-bdba-ebccfbd2b720",
						"exec": [
							"if (responseCode.code === 200) {",
							"    pm.collectionVariables.set('PRIOR_RESPONSE', 'OK');",
							"    pm.test(\"OK\", function () {",
							"        pm.response.to.have.status(200);",
							"    });",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							"",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"DELEGATION_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"Username\":\"DELEGATION_API\",\n\"UserPrincipalName\":\"HOST/DELEGATION.f5lab.local@f5lab.local\",\n\"ou\":\"IT\",\n\"Password\":\"kerbaccount\",\n\"app_spn\": \"HTTP/{{DNS1_NAME}}\"\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					]
				}
			},
			"response": []
		},
		{
			"name": "PATCH /user modify attribute",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "11b85ec2-684f-4f2a-9e3e-0dfe76e6c3ee",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "PATCH",
				"header": [
					{
						"key": "content-type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"rtype\": \"attribute\", \r\n\"username\": \"POST_API\",\r\n\"employeeNumber\": \"123456789\"\r\n\r\n}\r\n\r\n"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					]
				}
			},
			"response": []
		},
		{
			"name": "PATCH /user unlock account",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "22e0ecad-8ad2-4f25-8f87-2dbf9050b75c",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "PATCH",
				"header": [
					{
						"key": "content-type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"rtype\": \"unlock\", \r\n\"username\": \"POST_API\"\r\n}\r\n\r\n"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					]
				}
			},
			"response": []
		},
		{
			"name": "PATCH /user change password",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b1e86973-ff09-41ea-8179-522e20ff5a5d",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "PATCH",
				"header": [
					{
						"key": "content-type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n\"rtype\": \"password\",\r\n\"username\": \"POST_API\",\r\n\"password\": \"123\"\r\n\r\n}\r\n\r\n"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /user",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "42a77368-7589-483a-8c83-7434f44836eb",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "cc988987-6b32-4e15-a8cd-38e8c91ccfc4",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user?username=POST_API",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					],
					"query": [
						{
							"key": "username",
							"value": "POST_API"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /user/cert",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b18add34-f952-4102-b282-3e047d97b361",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test('OK', function() {",
							"  pm.expect(jsonData).to.have.property('certificate');",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{BIGIP1_ADDRESS1}}/user/cert?username=user2",
					"protocol": "http",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user",
						"cert"
					],
					"query": [
						{
							"key": "username",
							"value": "user2"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /vulnerable - External Response",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "17870392-55fb-4df9-bb44-5291034b033f",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"pm.test(\"OK\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Tiger\");",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/vulnerable?useridentity=hackeduser&uri=http://dummy.restapiexample.com/api/v1/employees",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"vulnerable"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "hackeduser"
						},
						{
							"key": "uri",
							"value": "http://dummy.restapiexample.com/api/v1/employees"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /vulnerable - Internal Response",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "873386b1-f772-4e2c-ae39-23af050a5d84",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"pm.test(\"OK\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"AccessKeyId\");",
							"});",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/vulnerable?useridentity=hackeduser&uri=http://unprotected-json.f5lab.local/",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"vulnerable"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "hackeduser"
						},
						{
							"key": "uri",
							"value": "http://unprotected-json.f5lab.local/"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET IIS /addr/scope-status",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "528447a9-27a9-47b9-82ee-d4793c55a291",
						"exec": [
							"var VS_NAME = pm.collectionVariables.get(\"DNS1_NAME\");",
							"",
							"",
							"if (responseCode.code === 200) {",
							"\tpm.collectionVariables.set('PRIOR_RESPONSE', 'OK');",
							"\tpm.test(\"Scope Request successful\", function () {",
							"\t\tpm.response.to.have.status(200);",
							"\t});",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"",
							"if (!jsonData.length) {",
							"\tif (jsonData.Description === VS_NAME) {",
							"\t\tpm.collectionVariables.set(\"IIS_ADDRESS1\", jsonData.IPAddress.IPAddressToString);",
							"\t\tpostman.setNextRequest(\"POST /website\");",
							"\t}",
							"} else {",
							"",
							"",
							"\tfor (var i = 0; i < jsonData.length; i++) {",
							"",
							"\t\tif (jsonData[i].Description === VS_NAME) {",
							"\t\t\tpm.collectionVariables.set(\"IIS_ADDRESS1\", jsonData[i].IPAddress.IPAddressToString);",
							"\t\t\tpostman.setNextRequest(\"POST /website\");",
							"\t\t}",
							"\t}",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "http://10.1.20.6:81/addr/scope-status?scope={{IIS_SCOPE}}",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"scope-status"
					],
					"query": [
						{
							"key": "scope",
							"value": "{{IIS_SCOPE}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET IIS /addr/available",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f8236ece-a0d9-48cd-b335-1e1f3ea9f57f",
						"exec": [
							"",
							"var jsonData = JSON.parse(responseBody);",
							"pm.collectionVariables.set(\"IIS_ADDRESS1\", jsonData.address);",
							"",
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test('Next Available Address Found', function () {",
							"  pm.expect(jsonData).to.have.property('address');",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "http://10.1.20.6:81/addr/available?scope={{IIS_SCOPE}}",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"available"
					],
					"query": [
						{
							"key": "scope",
							"value": "{{IIS_SCOPE}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "POST IIS /addr/checkout",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "30906ed2-7018-4159-9500-51a459d9b0a3",
						"exec": [
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"Address Checked Out\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"scope\":\"{{IIS_SCOPE}}\",\n\"address\":\"{{IIS_ADDRESS1}}\",\n\"name\":\"{{DNS1_NAME}}\"\n}"
				},
				"url": {
					"raw": "http://10.1.20.6:81/addr/checkout",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"checkout"
					]
				}
			},
			"response": []
		},
		{
			"name": "POST Create A record",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "66ab5d83-0ff1-4f17-b219-89ec6b62983d",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"A Record Created\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"record_type\":\"a\",\n\"fqdn\":\"{{DNS1_NAME}}\",\n\"computer_ip\":\"{{IIS_ADDRESS1}}\"\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/dns",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"dns"
					]
				}
			},
			"response": []
		},
		{
			"name": "POST Create PTR record",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d574161d-9a55-42e6-a8cd-9b8bd13dee10",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"A Record Created\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"record_type\":\"ptr\",\n\"fqdn\":\"{{DNS1_NAME}}\",\n\"computer_ip\":\"{{IIS_ADDRESS1}}\"\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/dns",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"dns"
					]
				}
			},
			"response": []
		},
		{
			"name": "POST /website",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a530f0da-b2a1-4387-9b25-4ab89478ee8e",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"",
							"for (var i = 0; i < jsonData.length; i++) {",
							"",
							"\t\tif (jsonData[i].status === \"Success\") {",
							"\t\t\t",
							"                pm.test(\"Website Created\", function () {",
							"                pm.expect(jsonData[i].status).to.eql(\"Success\");",
							"});",
							"\t\t\t",
							"\t\t}",
							"\t}",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"site_name\":\"{{DNS1_NAME}}\",\n\t\"http_port\":\"80\",\n\t\"https_port\":\"443\",\n\t\"computer_ip\":\"{{IIS_ADDRESS1}}\",\n\t\"template_number\": \"2\",\n\t\"authentication\": \"none\",\n\t\"customization\": {\n\t\t\"background\": \"green\"\n\n\t}\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/website",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"website"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create SPN",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f396b0ed-a922-459b-b8fc-d88ae28378dc",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"computer\":\"IIS\",\n\"spn\":\"HTTP/{{DNS1_NAME}}\" \n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/computer",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"computer"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Desktop files",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7575f748-dde9-4438-98c6-fe793214d3eb",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"Files Copied\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"repo\":\"labs\",\n\"number\":\"3\",\n\"user\": \"user1\"\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/desktop",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"desktop"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Desktop Files",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "4db9fb83-2062-4bfa-9044-e77730631886",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"Files Deleted\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"repo\":\"labs\",\n\"number\":\"3\",\n\"user\": \"user1\"\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/desktop",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"desktop"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /website",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b53ee81d-9ee7-43c2-8116-57c0cc9d3102",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"Website Deleted\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"site_name\":\"{{DNS1_NAME}}\" \n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/website",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"website"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /user - Delete user POST_API",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "59ee9447-63a0-4a90-926b-3538a72762c4",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"username\":\"POST_API\"\r\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /user - Delete user DELEGATION_API",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9a7fdac9-c249-4eca-9bcf-b0e69ee08dee",
						"exec": [
							"if (responseCode.code === 200) {",
							"    pm.collectionVariables.set('PRIOR_RESPONSE', 'OK');",
							"    pm.test(\"OK\", function () {",
							"        pm.response.to.have.status(200);",
							"    });",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\"username\":\"DELEGATION_API\"\r\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/user",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"user"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete SPN",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a844f67c-790e-402a-84f2-58bf62bd2ffd",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"SPN Deleted\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"computer\":\"IIS\",\n\"spn\":\"HTTP/{{DNS1_NAME}}\"\n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/computer",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"computer"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /dns",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "666fc491-342c-437d-8ca2-d7b0b20ad460",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"A Record Deleted\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"record_type\":\"a\",\n\"fqdn\":\"{{DNS1_NAME}}\",\n\"computer_ip\":\"{{IIS_ADDRESS1}}\" \n}"
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/dns",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"dns"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /addr/checkin - IIS",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9fa93364-cec7-47cb-bf55-e8fabd28cfcc",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							"var HTTPS_RUN = pm.collectionVariables.get(\"HTTPS_RUN\");",
							"",
							"if (HTTPS_RUN === \"TRUE\") {",
							"postman.setNextRequest(\"delete_vs\");",
							"}",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://{{BIGIP1_ADDRESS1}}/addr/checkin?address={{IIS_ADDRESS1}}",
					"protocol": "https",
					"host": [
						"{{BIGIP1_ADDRESS1}}"
					],
					"path": [
						"addr",
						"checkin"
					],
					"query": [
						{
							"key": "address",
							"value": "{{IIS_ADDRESS1}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "create_vs_https_server_pool",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bf5a3bed-8247-4429-9fb7-0af3a5f6ae66",
						"exec": [
							"if (responseCode.code === 200) {",
							"    pm.collectionVariables.set('PRIOR_RESPONSE', 'OK');",
							"}",
							"",
							"pm.test(\"BEGINNING HTTPS TESTS\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.collectionVariables.set('HTTPS_RUN', 'TRUE');",
							"",
							"postman.setNextRequest(\"GET /\");",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"class\": \"ADC\",\r\n    \"action\": \"deploy\",\r\n    \"persist\": true,\r\n    \"declaration\": {\r\n       \"class\": \"ADC\",\r\n       \"schemaVersion\": \"3.14.0\",\r\n       \"id\": \"APM\",\r\n       \"{{PARTITION_NAME}}\": {\r\n          \"class\": \"Tenant\",\r\n          \"{{PATH_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{VS1_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                   \"{{BIGIP1_ADDRESS1}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{VS1_NAME}}-clientssl\",\r\n                \"clientTLS\": \"{{VS1_NAME}}-serverssl\",\r\n                \"pool\": \"https-api-pool\",\r\n        \t\t\"snat\": \"auto\"\r\n                },\r\n\r\n                \"{{VS1_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                },\r\n                \"{{VS1_NAME}}-serverssl\": {\r\n                    \"class\": \"TLS_Client\"\r\n                },\r\n                \"https-api-pool\": {\r\n                    \"class\": \"Pool\",  \r\n                        \"members\": [\r\n                            {\r\n                            \"serverAddresses\": [\r\n                            \"10.1.20.6\"\r\n                            ],\r\n                            \"servicePort\": 8443\r\n                            }\r\n                        ],\r\n                    \"monitors\": [\r\n                        \"icmp\"\r\n                    ]\r\n                }\r\n\r\n            }\r\n       }\r\n    }\r\n\r\n}\r\n                \r\n             \r\n          \r\n       \r\n    \r\n"
				},
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/declare",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare"
					]
				}
			},
			"response": []
		},
		{
			"name": "delete_vs",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6d787357-661f-48cf-8613-5d13f79f6f2b",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/declare/{{PARTITION_NAME}}",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare",
						"{{PARTITION_NAME}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /addr/checkin - BIGIP1",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6de32657-95ef-41a1-b66f-3ba8c9d3c3eb",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							"",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://10.1.20.6:81/addr/checkin?address={{BIGIP1_ADDRESS1}}",
					"protocol": "http",
					"host": [
						"10",
						"1",
						"20",
						"6"
					],
					"port": "81",
					"path": [
						"addr",
						"checkin"
					],
					"query": [
						{
							"key": "address",
							"value": "{{BIGIP1_ADDRESS1}}"
						}
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"id": "0639119e-221d-4355-aa31-157163dd5fc8",
			"key": "APP_NAME",
			"value": ""
		},
		{
			"id": "3805b5d1-71b2-46fe-abb4-0cae2aa67ee2",
			"key": "PARTITION_NAME",
			"value": ""
		},
		{
			"id": "be3adfb0-216c-4d0e-9af1-46f684f2b80c",
			"key": "PATH_NAME",
			"value": ""
		},
		{
			"id": "1849cea9-e4bc-451c-b28a-dbe85bc0b704",
			"key": "PRIOR_RESPONSE",
			"value": ""
		},
		{
			"id": "f3245073-4afb-4608-b13f-b724b24ea9ec",
			"key": "HTTPS_RUN",
			"value": ""
		},
		{
			"id": "2f782a2d-e1b3-4aa3-b78f-b310816682b3",
			"key": "DNS1_NAME",
			"value": ""
		},
		{
			"id": "cc388f64-b7e6-4077-8afd-ed9cc0b683b5",
			"key": "VS1_NAME",
			"value": ""
		},
		{
			"id": "649addb1-b400-4285-82c7-1e773c81e9b0",
			"key": "BIGIP1_ADDRESS1",
			"value": ""
		},
		{
			"id": "8f045fe3-f302-49fd-8cb2-c5fe9fcfbaaf",
			"key": "IIS_ADDRESS1",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}